<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <style>
        .checkbox-div {
            width: 120px;
            /* Set a fixed width to ensure uniformity */
        }
    </style>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 d-flex px-3 py-2">
                <!-- Left Sidebar -->
                <div class="left-sidebar-div w-25 p-2 bg-white border-start border-top border-end border-2 py-4">
                    <div class="logo-div text-center">
                        <img src="images/CANDORWORKS-LOGO-Web-1920.png" alt="Logo" class="w-75">
                        <hr class="border-1">
                    </div>
                    <div class="add-post-div text-center d-flex gap-3">
                        <button class="btn btn-primary" id="btnAddPost">Add New Post</button>
                        <form action="/delete" method="post">
                        <button class="btn btn-primary" type="submit" id="btnDeletePost">Delete Post</button>
                        </form>
                    </div>
                </div>

                <!-- Post Section -->
                <div class="w-75">
                        <table class="w-100 border border-1">
                            <thead>
                                <tr>
                                    <td class="border">
                                        <div class="checkbox-div d-flex align-items-center gap-2 p-2">
                                            <input type="checkbox" name="selectAll" id="selectAll">
                                            <label for="selectAll" class="mb-0 fw-bold">Select All</label>
                                        </div>
                                    </td>
                                    <td class="w-75 border">
                                        <div
                                            class="post-title-div d-flex align-items-center justify-content-center text-center p-2">
                                            <h6 class="mb-0">Post Title</h6>
                                        </div>
                                    </td>
                                    <td class="w-25 border">
                                        <div
                                            class="post-published-div d-flex align-items-center justify-content-center text-center">
                                            <h6 class="mb-0">Published Date</h6>
                                        </div>
                                    </td>
                                </tr>
                            </thead>
                            <tbody>
                                <% allPosts.forEach((post, index)=>{ %> <!-- Open EJS loop -->
                                    <!-- Here forEach loop used for check the post sotre array and create table as per the post -->
                                    <tr>
                                        <td class="border">
                                            <div
                                                class="checkbox-div d-flex align-items-center justify-content-center text-center p-2">
                                                <input type="checkbox" name="selectAll" class="selectAllChildCheckbox"
                                                    id="checkboxIds_<%= index %>">
                                            </div>

                                        </td>
                                        <td class="w-75 border">
                                            <div
                                                class="post-title-div d-flex align-items-center justify-content-center text-center p-2">
                                                <h5>
                                                    <%= post.postTitles %>
                                                </h5>
                                            </div>
                                        </td>
                                        <td class="w-25 border">
                                            <div
                                                class="post-published-div d-flex align-items-center justify-content-center text-center">
                                                <h5>
                                                    <%= post.publishedDate %>
                                                </h5>
                                            </div>
                                        </td>
                                    </tr>
                                    <%}); %> <!-- Close EJS loop properly -->
                            </tbody>
                        </table>
                </div>
            </div>
        </div>
    </div>


</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="dashboardScript.js"></script>

</html>